Updated for newer Android version support.
